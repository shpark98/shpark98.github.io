---
published: true

layout: single

title: "[2023-04-10] 1. OpenCV 영상처리 기초"

categories: [Devcourse-TIL, CV]

tags: Autonomous_Driving CV

toc: true

toc_label : 목차

toc_sticky: true

author_profile: false

sidebar :
    nav : "docs" 
---

### OpenCV



#### OpenCV란?

- 컴퓨터비전을 위해 만들어진 공개 소프트웨어 (라이브러리 파일)
- 영상 데이터의 표현, 변환, 분석 등에 필요한 도구들을 제공
- 프로그래밍 인터페이스로는 주로 C++, Python 이용
- Windows, Linux, MacOS 등에서도 이용이 가능한 크로스 플랫폼 프레임워크
- 머신러닝 프레임워크 지원
- 자율주행 자동차에서는 카메라 영상을 가공하고 분석하여 상황을 인식할 때 사용함



#### 특징

- 오픈소스
  - BSD 라이선스 (무료 소프트웨어)

- 프로그래밍 편리
  - 대부분의 운영체제 지원 (Linux, Windows, MacOS, iOS, Android)
  - C, C++, Java, Python 지원 (내부적으로는 C/ C++ 실행하여 수행속도가 빠름)
  - 다양한 CPU와 GPU 하드웨어를 지원
- 많은 응용분야에서 사용
  - 구글, 마이크로소프트, 인텔, 삼성, 토요타, 등등
  - PC 응용프로그램, 모바일 앱, 임베디드, SW
  - 가전기기, 자동차, 로봇, ...



#### 버전

- 버전 1.x
  - C 언어로 작성됨
- 버전 2.x 
  - C ++ 언어로 재작성됨
- 버전 3.x
  - 모듈별로 라이브러리가 분리되어 있었으나 통합됨
  - OpenCL 지원을 통해 실행속도가 개선됨
  - 특징점 추출 알고리즘과 관련 기능이 보강되고 추가됨
- 버전 4.x
  - 딥러닝 패키지가 추가됨 (Yolo 등)



#### OpenCV의 이미지 표현 방식

- 점 하나(1 pixel)를 표현하는데 [B, G, R] 형태의 배열로 이루어짐

  e.g.  640 x 480 이미지에서 한 행에 680개씩, 총 480개의 행이 존재

  - 데이터 타입이 numpy.ndarray로 다차원 배열을 표현하는 구조 
  - 위 640 x 480 이미지의 배열의 형태는 (480, 640, 3) 



#### OpenCV 좌표계

- OpenCV를 이용한 Python 코딩에서는 좌표값 표시에 순서쌍(tuple)을 이용

![image](https://user-images.githubusercontent.com/116723552/230988559-f5a7c79a-6a2a-4652-8f49-b937d832a64f.png)



#### 몇 가지 기본적인 도형 그리기

- 선

  - line(img, start, end, color, thickness)

  e.g.  img = cv2.line(img, (0,0), (511, 511), (255, 0, 0), 5)

  

- 사각형

  - rectangle(img, start, end, color, thickness)

  e.g.  img = cv2.rectangle(img, (100,100), (300, 500), (0, 255, 0), 3)

  

- 원

  - circle(img, center, radius, color, thickness)

  e.g.  img = cv2.circle(img, (300,400), 100, (0, 0, 255), 2)

  

- 텍스트

  - putText(img, text, org, font, fontscale, color)

  e.g.  cv2.putText(img, "Test", (10,50) cv2.FONT_HERSHEY_SIMPLEX, 4, (255, 255, 255))
