---
published: true

layout: single

title: "[2023-03-27] 1. ROS"

categories: Devcourse-TIL

tags: Linux

toc: true

toc_label : 목차

toc_sticky: true

author_profile: false

sidebar :
    nav : "docs"
---

![image](https://tknika.eus/wp-content/uploads/2022/10/ros.png)

### ROS



#### ROS란?

- 오픈소스 로봇 운영체제
  - 소스 무료 공개
  - 개방형 구조
  - 활발한 커뮤니티 활동
- 로봇 소프트웨어를 개발하는데 필요한 소프트웨어의 집합체
  - 소프트웨어 프레임워크
- 메타 운영체제(Meta OS), 미들웨어
  - 소프트웨어 모듈 + 라이브러리 집합 + 도구 집합
- 각종 센서와 모터를 프로그래머가 편하게 사용할 수 있도록 지원



#### ROS 구성도

![image](https://user-images.githubusercontent.com/116723552/227804023-5a4f9303-39bd-4d40-8d4a-e55cd091f999.png)



#### ROS의 특징

- 로봇 SW를 만들기 위한 코드의 재사용이 용이한 환경제공이 목표

  - 다양한 프로그래밍 언어를 지원 : C++, Python
  - 표준화된 ROS 인터페이스를 따르는 HW와 SW를 편하게 엮을 수 있음
  - 하드웨어 부품과 소프트웨어 부품을 조립하여 여러 응용 구성 가능
  - 대규모 실행 시스템 및 프로세스에 적용 가능

- 다양한 도구들을 함께 제공

  - RVIZ 

    - 시각화 도구

    - 센서 데이터를 비롯한 주변 환경 변화를 시각화

    - 숫자 지표를 개발자가 보기 편하게 시각화

      <img src="https://user-images.githubusercontent.com/116723552/227863341-e07674d2-2325-49d0-b68f-68af8d518b93.png" alt="image" style="zoom:150%;" />

  - RQT

    - Qt 기반의 GUI 응용 개발 도구

    - 노드연결 정보를 그래프로 표현

    - 사용자 상호작용을 UI를 갖춘 응용 개발에 이용

      <img src="https://user-images.githubusercontent.com/116723552/227863709-3033239e-6475-4e51-98b6-032fa29af87e.png" alt="image" style="zoom:150%;" />

  - GAZEBO

    - 물리 엔진 기반의 3차원 시뮬레이터

    - 시뮬레이터 제작 및 모델링에 이용

      <img src="./../images/2023-03-27-[230327] 1. ROS/image-20230327160211086.png" alt="image-20230327160211086" style="zoom:150%;" />

- 다양한 OS 환경에서 통일된 방법으로 상호작용을 구현하는 것이 가능

  - 리눅스, OS X, Windows, Raspbian, QNX, RTOS, Andrioid, IOS 등 
  - 표준화된 통신 프로토콜을 따르는 이기종간의 메시지 교환 가능
  
  ![image](https://user-images.githubusercontent.com/116723552/227870086-538da168-aca8-4269-b63b-df6fab564bdb.png)



#### ROS 배포판

- ROS 버전
  - ROS Melodic Morenia : May 23rd, 2018 - May 2023
  - ROS Lunar Loggerhead : May 23rd, 2017 - May 2019
  - ROS Kinetic Kame : May 23rd, 2016 - April 2021
  - ROS Indigo Igloo : July 22nd, 2014 - April 2019



#### ROS 핵심 기능

- 노드간 통신을 기반으로 전체 시스템을 구동
  - 하드웨어 부품 / 소프트웨어 모듈에 노드가 하나씩 할당됨

<img src="https://user-images.githubusercontent.com/116723552/227871874-2a14b913-54c1-440e-8596-b4521a745726.png" alt="image" style="zoom: 80%;" />

- 네트워크를 통한 원격 연동 가능

  <img src="https://user-images.githubusercontent.com/116723552/227873033-da0f7ba6-2810-4982-9c29-93e88f150645.png" alt="image" style="zoom:80%;" />

  

#### ROS 기반의 구현 사례

![image](https://user-images.githubusercontent.com/116723552/227873965-77330337-92d7-4ee1-91ec-3c3b5a6f916c.png)



- 라이다 + 카메라 + 모터 + SW모듈1 + SW모듈2

- 하드웨어 장치 3개와 소프트웨어 모듈 2개를 함께 엮어서 원하는 기능 구현

  1. 라이다와 카메라 정보를 상황인지SW가 분석한 후 결과를 운전판단 SW로 보냄

  2. 운전판단 SW가 제어 명령을 생성해서 모터로 보내고 차량을 움직임



#### ROS에서 사용하는 기본 용어

- 마스터(Master)

  - 서로 다른 노드들 사이의 통신을 총괄 관리
  - 통상 'ROS Core'라고 부름

- 노드(Nodes)

  - 실행 가능한 최소의 단위, 프로세스로 이해할 수 있음
  - ROS에서 발생하는 통신(메시지 송/수신)의 주체
  - HW장치에 대해 하나씩의 노드, SW모듈에 대해 하나씩의 노드 할당

- 토픽(Topics)

  - ROS 노드들이 관심을 갖고 있는 이야깃거리

  - 그 안에 들어있는 실제 데이터를 메시지라고 부름

    e.g.  센서데이터, 카메라 이미지, 엑츄에이터 제어명령, ...

- 발행자(Publishers)

  - 특정 토픽에 메시지를 담아 외부로 송신하는 노드

    e.g.  센서, 카메라, 모터제어 알고리즘, ...

- 구독자(Subsribers)

  - 특정 토픽에 담겨진 메시지를 수신하는 노드

    e.g.  엑츄에이터 제어기, 데이터 시각화 도구, ...

- 패키지(Packages)

  - 하나 이상의 노드와 노드의 실행을 위한 정보 등을 묶어 놓은 단위
  - 노드, 라이브러리, 데이터, 파라미터 등을 포함
  - 예를 들어 라이다 하드웨어 장치를 하나 사면, 라이다에 관한 ROS 패키지 1개를 다운로드함



#### 간단한 ROS 응용

- 센서
- 액츄에이터
- 
