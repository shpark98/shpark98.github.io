---
published: true

layout: single

title: "[2023-03-28] 1. 터틀심 8자 주행 및 ROS 예제코드 분석"

categories: [Devcourse-TIL,ROS]

tags: ROS

toc: true

toc_label : 목차

toc_sticky: true

author_profile: false

sidebar :
    nav : "docs"
---

### 터틀심 8자 주행

- pub8.py 파일을 `cp pub.py pub8.py` 로 복사 및 생성한 후 8자 주행 코드로 수정

```
  #!/usr/bin/env python
  
  import rospy
  from geometry_msgs.msg import Twist
  
  rospy.init_node('my_node', anonymous=True)
  pub = rospy.Publisher('/turtle1/cmd_vel', Twist, queue_size=10)
  
  msg = Twist()
  
  rate = rospy.Rate(1)
  
  while not rospy.is_shutdown():
      for i in range(0,4):
          msg.linear.x = 3.0
          msg.linear.y = 0.0
          msg.linear.z = 0.0
          msg.angular.x = 0.0
          msg.angular.y = 0.0
          msg.angular.z = 3.0 # 시간차를 두고 번갈아가며 각속도를 역회전 시킴
          pub.publish(msg)
          rate.sleep()
      for j in range(0,4):
          msg.linear.x = 3.0
          msg.linear.y = 0.0
          msg.linear.z = 0.0
          msg.angular.x = 0.0
          msg.angular.y = 0.0
          msg.angular.z = -3.0 # 시간차를 두고 번갈아가며 각속도를 역회전 시킴
          pub.publish(msg)
          rate.sleep()
  
  while not rospy.is_shutdown():
      pub.publish(msg)
      rate.sleep()
```



- 작성 후 아래와 같은 순서로 작업 실행

- 터미널 #1에서 `$ roscore`

- 터미널 #2에서 `$ rosrun turtlesim turtlesim_node`

- 터미널 #3에서 `$ rosrun my_pkg1 pub8.py`

  

#### 실행결과

![image](https://user-images.githubusercontent.com/116723552/228451924-c4f5edb2-2f0c-4890-8f10-fe0ba000b3af.png)



### ROS 예제코드 분석

