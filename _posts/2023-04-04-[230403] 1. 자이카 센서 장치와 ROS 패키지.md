---
published: true

layout: single

title: "[2023-04-03] 1. 자이카 센서 장치와 ROS 패키지"

categories: [Devcourse-TIL]

tags: Autonomous Driving

toc: true

toc_label : 목차

toc_sticky: true

author_profile: false

sidebar :
    nav : "docs"
---

### 자이카 센서 장치



#### 카메라 센서

- 1080P USB 카메라
- USB2.0, UVC 지원(USB Video Class, PC나 노트북에서 별도의 드라이브 소프트웨어 없이 운영체제에서 쉽게 인식하고 사용함)
- 170도 어안렌즈
- CMOS OV2710 Sensor(CCD 카메라는 화질이 좋지만 전력을 많이 먹어서 화질도 괜찮게 나오면서 전력을 적게 먹는 CMOS를 사용)
- 120-fps (640x480), 30-fps(1920-1080)



##### RGB(Red, Green, Blue)

- 세상의 모든 색은 RGB의 3가지 색상 요소로 분해 가능
- RGB 컬러 이미지의 경우, RGB 각각의 색상을 1byte(8bits)로 표현하여 한 픽셀당 3bytes 를 사용
- Gray 스케일 이미지의 경우, 한 픽셀당 1byte 사용(각 픽셀이 0부터 255까지의 값으로 표현될 수 있음)
- 1920 x 1080 의 화면을 가득 채우는 그림의 크기는 1920 * 1080 * 3bytes = 6Mbytes
- 사진 데이터를 한 바이트 한 바이트 씩 표현하면 아래와 같음
- 아래의 그림에서 3, 65, 52 -> 가장 좌측 상단 하나의 점(픽셀)의 색상을 표현함

<img src="https://user-images.githubusercontent.com/116723552/229597775-e735d99b-b04e-4b05-83c8-6788947d709a.png" alt="image" style="zoom: 67%;" />

##### 색의 인식과 저장

<img src="https://user-images.githubusercontent.com/116723552/230013313-110f09ea-b413-4e7f-9093-fb38c7a0a91a.png" alt="image" style="zoom:67%;" />

- 해상도 -  이미지나 화면의 선명도를 나타내는 측정 단위

- PPI - 화면이나 출력장치에서 인치당 화소 수

  - PPI가 높을 수록 이미지는 더욱 선명하게 보이고 출력물의 품질도 높아짐
  - PPI가 높을수록 파일의 크기가 커짐

  e.g.  300PPI의 이미지는 인치당 300개의 화소로 구성

- 화소수 - 디지털 이미지나 화면의 작은 단위이며, 이미지나 그래픽의 선명도와 정확도는 이 화소 수에 따라 정해짐

  ​	e.g.  FHD는 1920 * 1080 = 약 200만 화소로 이루어짐

  

  

  



##### 기능

- 영상 촬영

  - 연속된 사진을 찍어 이미지 파일로 전송

  - 최대 해상도 1920 x 1080

  - 하지만 Xycar에서는 640 x 480 사진을 초당 30장 촬영

  - 640 x 480(화소수) x 3(RGB) x 30(초) = 27Mbtytes = 216Mbits

  - 전송 속도는 216Mbps, USB2.0의 최대 속도는 480Mbps(실제 240Mbps)

    - 보통은 압축하여 전송하므로 더 높은 해상도와 초당 더 많은 프레임을 전송 가능 

    - 압축을 많이 하면 압축을 한 만큼 또 풀어야 하므로 시간을 소비해야 함(지연시간이 생김)

      

##### 카메라 기능 조정

- 노출도

<img src="https://user-images.githubusercontent.com/116723552/230020721-304e6ab6-1134-43fd-b0e4-67d770125a36.png" alt="image" style="zoom:67%;" />

- 자동초점조정

  

<img src="https://user-images.githubusercontent.com/116723552/230020766-55d92eea-541c-4743-b9cc-9cba44c3b4ff.png" alt="image" style="zoom: 80%;" />





#### IMU 센서(Inertial Measurement Unit)

- 관성 측정 장치 - 가속도계, 회전속도계, 자력계의 조합을 사용하여 어떤 물체(질량)에 가해지는 힘, 회전 각속도 등을 측정하는 장치



##### 변위, 속도, 가속도

<img src="https://user-images.githubusercontent.com/116723552/230021860-5975d63a-d154-433e-9a7c-143d37af0121.png" alt="image" style="zoom: 67%;" />



##### 자이카에서 사용하는 IMU 센서

- 6축 IMU 센서-6050

  - 가속도 센서 Accelerometer : 직선 방향 가속도 감지 및 중력 가속도 감지

  - 자이로 센서 Gyroscope : 회전 속도인 각속도를 감지

- 9축 IMU 센서 SparkFun 9DoF Razor IMU M0

  - 가속도 센서 Accelerometer

  - 자이로 센서 Gyroscope

  - 지자계 센서 Magnetometer : N극 방향 감지 및 동서남북 방위각 감지



- 가속도 센서
  - MEMS(Micro-Electro-Mechanical-Systems) 기술 기반
  - 반도체 칩 안에 입체적인 구조물을 만들어 외부의 힘에 따라 움직이는 것을 전기적 신호로 바꾸어 출력
  - X, Y, Z 축 방향의 직선 움직임과 기울어짐의 자세 파악
- 자이로 센서
  - MEMS(Micro-Electro-Mechanical-Systems) 기술 기반
  - X, Y, Z 축을 기준으로 한 회전 움직임 감지

<img src="https://user-images.githubusercontent.com/116723552/230025037-cc883fc6-7c27-405b-977e-77b956558129.png" alt="image" style="zoom: 67%;" />

- 지자계 센서
  - 3축 나침반
  - 방위 알려주는 디지털 나침반 기능
    - ROLL : 이동 방향에 대하여 평행한 축 주위의 회전각
    - PITCH : 이동 방향에 대하여 수직을 이루는 축 주위의 회전각(언덕을 올라가는 것과 내려오는 것을 감지 가능)
    - YAW : 이동 방향에 대하여 수직을 이루는 축 주위의 회전각(좌회전, 우회전 감지 가능)



<img src="./../images/2023-04-04-[230403] 1. 자이카 센서 장치와 ROS 패키지/image-20230405171548225.png" alt="image-20230405171548225" style="zoom: 80%;" />



#### 라이다

- 레이저 신호의 반사파를 이용 (레이다는 전파신호의 반사파 이용)
- 짧은 주파수로 작은 물체도 감지 가능
- 정확한 3D 단색 이미지 구성 가능

